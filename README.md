# Antique Recognition Telegram Bot

Этот проект реализует Telegram‑бота, который принимает фотографию предмета с барахолки или антиквариата и пытается определить:

1. Что это за предмет.
2. Для чего используется.
3. Примерный период выпуска.
4. Примерную стоимость (диапазон в EUR).

Бот использует модель **GPT‑4 Vision** от OpenAI для анализа изображения и генерации ответа. Язык ответа можно настроить через переменную окружения `REPLY_LANGUAGE` (по умолчанию используется русский).

## Как запустить локально

1. Создайте бота в [@BotFather](https://t.me/BotFather) и получите токен `TELEGRAM_BOT_TOKEN`.
2. Получите ключ API OpenAI (`OPENAI_API_KEY`). Для работы с GPT‑4 Vision нужен тариф, поддерживающий этот эндпоинт.
3. Клонируйте репозиторий или скачайте содержимое папки `antique-bot`.
4. Создайте виртуальное окружение (опционально) и установите зависимости:

   ```bash
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

5. Создайте файл `.env` в корне проекта, подставив реальные значения:

   ```bash
   TELEGRAM_BOT_TOKEN=ваш_токен_бота
   OPENAI_API_KEY=ваш_ключ_openai
   REPLY_LANGUAGE=ru
   ```

   Язык можно изменить на `en` (английский) или `pt` (португальский).

6. Запустите бота:

   ```bash
   python main.py
   ```

Бот будет работать в режиме polling. Отправьте ему фотографию – он вернёт описание.

## Хостинг на Railway/Render

1. Создайте аккаунт на [Railway](https://railway.app) или [Render](https://render.com) и войдите в систему.
2. Создайте новый проект и загрузите содержимое папки `antique-bot`. Можно залить через GitHub‑репозиторий или загрузкой файлов.
3. Укажите следующие переменные окружения в разделе *Variables* / *Environment*:

   - `TELEGRAM_BOT_TOKEN` – токен вашего бота из BotFather.
   - `OPENAI_API_KEY` – ваш ключ OpenAI API.
   - `REPLY_LANGUAGE` – (опционально) `ru`, `en` или `pt`.

4. В качестве команды запуска (*Start Command*) укажите:

   ```bash
   python main.py
   ```

5. Запустите деплой. После успешного развёртывания бот будет активен круглосуточно.

## Файлы

- **main.py** – основная логика бота (Telegram и запрос к OpenAI).
- **requirements.txt** – зависимости Python.
- **Dockerfile** – для контейнерного запуска (например, на Railway/Render).
- **.env.example** – пример файла с переменными окружения.

## Переменные окружения

В файле `.env.example` перечислены все переменные, которые использует бот. При деплое на платформы рекомендуется переопределить их через веб‑интерфейс.

## Лицензия

Этот проект предоставляется «как есть» без каких‑либо гарантий. Используйте на свой страх и риск.